<template>
  <div
    v-if="isLoading || loadErr || isEnd"
    class="LoadMore"
  >
    <p v-show="isLoading && !loadErr">ğŸ˜€æ­£åœ¨åŠ è½½ä¸­...</p>
    <p v-show="loadErr" @click="handleReload">ğŸ˜¡ç½‘ç»œæœ‰ç‚¹é—®é¢˜,ç‚¹å‡»é‡æ–°åŠ è½½</p>
    <p v-show="isEnd">ğŸ˜åˆ°åº•éƒ¨äº†</p>
  </div>
</template>
<script>
import './LoadMore.css';
import loadMoreFn from '@/mixins/loadMore';

export default {
  name: 'load-more',
  mixins: [loadMoreFn],
  props: {
    isLoading: {
      type: Boolean,
      default() { return false; },
    },
    loadErr: {
      type: Boolean,
      default() { return false; },
    },
    isEnd: {
      type: Boolean,
      default() { return false; },
    },
  },
  methods: {
    handleReload() {
      this.autoFetch(true);
    },
    handleFetch(reload) {
      this.$emit('load', reload);
    }
  },
}
</script>
